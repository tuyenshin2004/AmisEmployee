(function(){"use strict";var e={3216:function(e,t,n){var o=n(9963),i=n(6252);const s={class:"container"};function a(e,t,n,o,a,l){const c=(0,i.up)("TheHeader"),r=(0,i.up)("TheContent");return(0,i.wg)(),(0,i.iD)("body",null,[(0,i._)("div",s,[(0,i.Wm)(c),(0,i.Wm)(r)])])}const l={class:"header"},c={class:"header__bars pointer"},r=(0,i._)("div",{class:"header__name"},"Lê Minh Tuyến",-1),d={class:"header__icon--down pointer"},m={class:"header__data-name pointer"},h=(0,i._)("div",{class:"db-name"},"DC-03",-1),u=(0,i._)("div",{class:"padding__mid"},null,-1),p={class:"user-icon pointer"},g={class:"header__search"},b={class:"user-icon pointer"},_={class:"user-icon pointer"},f={class:"user-icon pointer"},v={class:"user-icon pointer"},w={class:"user-icon pointer"},y={class:"user-icon pointer"},S=(0,i._)("div",{class:"user-item__name"},"Lê Minh Tuyến",-1);function k(e,t,n,o,s,a){const k=(0,i.up)("base-icon"),C=(0,i.up)("base-input"),D=(0,i.up)("Menu");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",l,[(0,i._)("div",c,[(0,i.Wm)(k,{class:"icon__bars",size:"icon--24",onClick:t[0]||(t[0]=e=>a.sideBarOnClick())})]),r,(0,i._)("div",d,[(0,i.Wm)(k,{class:"icon__option-down",size:"icon--24"})]),(0,i._)("div",m,[(0,i.Wm)(k,{class:"icon__current-db"}),h]),u,(0,i._)("div",p,[(0,i.Wm)(k,{class:"icon__download",size:"icon--24"})]),(0,i._)("div",g,[(0,i.Wm)(C,{nameClass:"input",hasIcon:!0,iconName:"icon__search",inputPlace:"Nhập từ khoá tìm kiếm"})]),(0,i._)("div",b,[(0,i.Wm)(k,{class:"icon__category",size:"icon--24"})]),(0,i._)("div",_,[(0,i.Wm)(k,{class:"icon__setting",size:"icon--24"})]),(0,i._)("div",f,[(0,i.Wm)(k,{class:"icon__chat",size:"icon--24"})]),(0,i._)("div",v,[(0,i.Wm)(k,{class:"icon__help",size:"icon--24"})]),(0,i._)("div",w,[(0,i.Wm)(k,{class:"icon__info",size:"icon--24"})]),(0,i._)("div",y,[(0,i.Wm)(k,{class:"icon__notification",size:"icon--24"})]),(0,i.Wm)(k,{class:"icon__avatar",size:"icon--24"}),S,(0,i.Wm)(k,{class:"icon__option",size:"icon--24"})]),(0,i.Wm)(D,{isCloseMenu:s.isCloseMenu},null,8,["isCloseMenu"])],64)}var C=n(3577);function D(e,t,n,o,s,a){return(0,i.wg)(),(0,i.iD)("div",{class:(0,C.C_)(["icon",[n.size,n.name]])},null,2)}var I={props:{size:String,name:String}},x=n(3744);const N=(0,x.Z)(I,[["render",D],["__scopeId","data-v-29a3092e"]]);var F=N;const M=e=>((0,i.dD)("data-v-4c9cb7a3"),e=e(),(0,i.Cn)(),e),T={key:1,for:""},L={key:0},B=(0,i.Uk)("("),O=M((()=>(0,i._)("b",{class:"input-required"},null,-1))),W=(0,i.Uk)(")"),E=[B,O,W],$=["name","id","placeholder","value"],R={key:2};function z(e,t,n,s,a,l){const c=(0,i.up)("base-icon"),r=(0,i.up)("base-tool");return(0,i.wg)(),(0,i.iD)(i.HY,null,[n.hasIcon?((0,i.wg)(),(0,i.j4)(c,{key:0,name:"icon__search"})):(0,i.kq)("",!0),n.hasLabel?((0,i.wg)(),(0,i.iD)("label",T,[(0,i.Uk)((0,C.zw)(n.labelStr)+" ",1),n.isRequired?((0,i.wg)(),(0,i.iD)("b",L,E)):(0,i.kq)("",!0),(0,i.Wm)(r,{content:n.isTitle},null,8,["content"])])):(0,i.kq)("",!0),(0,i._)("input",{class:(0,C.C_)(["field-input",[{required:n.isRequired},n.nameClass,a.inputClass]]),type:"text",name:n.labelStr,id:n.inputId,placeholder:n.inputPlace,value:n.modelValue,onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value)),ref:"input",onMouseenter:t[1]||(t[1]=e=>a.hover=!0),onMouseleave:t[2]||(t[2]=e=>a.hover=!1),onBlur:t[3]||(t[3]=e=>l.blurEvent(e)),onKeyup:t[4]||(t[4]=(0,o.D2)((e=>e.target.blur()),["enter"]))},null,42,$),a.hover?((0,i.wg)(),(0,i.iD)("span",R,(0,C.zw)(this.labelStr)+" không để trống.",1)):(0,i.kq)("",!0)],64)}const V={key:0,class:"tooltip"},Y={class:"tooltiptext"};function P(e,t,n,o,s,a){return!n.content?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",V,[(0,i._)("span",Y,(0,C.zw)(n.content),1)]))}var q={props:{content:{type:String,default:""}}};const A=(0,x.Z)(q,[["render",P],["__scopeId","data-v-b36f1e86"]]);var H=A,U={props:{labelStr:String,hasIcon:Boolean,hasLabel:Boolean,isTitle:String,isRequired:Boolean,inputId:String,inputPlace:String,iconName:String,nameClass:String,modelValue:String,focus:{type:Boolean,default:!1}},components:{baseIcon:F,BaseTool:H},watch:{focus:function(e){1==e&&this.$nextTick((function(){this.$refs.input.focus()}))}},Updated(){this.isError=!1},data(){return{isError:!1,hover:!1,inputClass:""}},methods:{blurEvent:function(e){const t=e.target.value;this.isRequired&&(t?(this.inputClass="",e.target.classList.remove("error")):(this.inputClass="error",e.target.classList.add("error")))}},updated(){}};const K=(0,x.Z)(U,[["render",z],["__scopeId","data-v-4c9cb7a3"]]);var Z=K;const j={class:"menu"},G={class:"menu__top pointer"},X={class:"menu-top__sidebar"},Q=(0,i._)("div",{class:"menu-top__logo icon__logo"},null,-1),J={class:"menu--scroll"},ee={class:"menu__bottom"};function te(e,t,n,o,s,a){const l=(0,i.up)("base-icon"),c=(0,i.up)("base-item"),r=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",j,[(0,i._)("div",G,[(0,i._)("div",X,[(0,i.Wm)(l,{class:"icon__toggle",size:"icon--24"})]),Q]),(0,i._)("div",J,[(0,i._)("div",ee,[(0,i.Wm)(r,{to:"/other"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{name:"icon__dashboard",title:"Tổng quan",closeMenu:n.isCloseMenu},null,8,["closeMenu"])])),_:1}),(0,i.Wm)(r,{to:"/employees"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{name:"icon__cash",title:"Tiền mặt",closeMenu:n.isCloseMenu},null,8,["closeMenu"])])),_:1}),(0,i.Wm)(r,{to:"/INProcess"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{name:"icon__warehouse",title:"Kho",closeMenu:n.isCloseMenu},null,8,["closeMenu"])])),_:1}),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.menuItems,(e=>((0,i.wg)(),(0,i.j4)(c,{key:e.title,name:e.name,title:e.title,closeMenu:n.isCloseMenu},null,8,["name","title","closeMenu"])))),128))])])])}const ne={class:"menu-item"},oe={key:0};function ie(e,t,n,o,s,a){const l=(0,i.up)("base-icon");return(0,i.wg)(),(0,i.iD)("div",ne,[(0,i.Wm)(l,{size:"icon--24",name:n.name},null,8,["name"]),n.closeMenu?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("span",oe,(0,C.zw)(n.title),1))])}var se={props:{name:String,title:String,closeMenu:Boolean},components:{BaseIcon:F}};const ae=(0,x.Z)(se,[["render",ie],["__scopeId","data-v-bdb508ec"]]);var le=ae,ce={components:{BaseItem:le,BaseIcon:F},props:{isCloseMenu:{type:Boolean,default:!1}},data(){return{menuItems:[{title:"Tiền gừi",name:"icon__deposit"},{title:"Mua hàng",name:"icon__buy"},{title:"Bán hàng",name:"icon__sell"},{title:"Quản lý hoá đơn",name:"icon__bill"},{title:"Công cụ dụng cụ",name:"icon__tool"},{title:"Tài sản cố định",name:"icon__assets"},{title:"Tiền lương",name:"icon__wage"},{title:"Thuế",name:"icon__tax"},{title:"Giá thành",name:"icon__price"},{title:"Tổng hợp",name:"icon__synthetic"},{title:"Ngân sách",name:"icon__budget"},{title:"Báo cáo",name:"icon__report"},{title:"Phân tích tài chính",name:"icon__analysis"}]}}};const re=(0,x.Z)(ce,[["render",te]]);var de=re,me={components:{Menu:de,BaseIcon:F,BaseInput:Z},data(){return{isCloseMenu:!1}},mounted(){document.querySelector(".container").style.gridTemplateColumns="180px calc(100% - 180px)"},methods:{sideBarOnClick(){this.isCloseMenu?(document.querySelector(".container").style.gridTemplateColumns="180px calc(100% - 180px)",this.isCloseMenu=!1):(this.isCloseMenu=!0,document.querySelector(".container").style.gridTemplateColumns="56px calc(100% - 56px)")}}};const he=(0,x.Z)(me,[["render",k]]);var ue=he;function pe(e,t,n,o,s,a){const l=(0,i.up)("router-view");return(0,i.wg)(),(0,i.j4)(l)}var ge={components:{}};const be=(0,x.Z)(ge,[["render",pe]]);var _e=be,fe={name:"App",components:{TheHeader:ue,TheContent:_e}};const ve=(0,x.Z)(fe,[["render",a]]);var we=ve,ye=n(2201);const Se={class:"page"},ke={class:"page-header"},Ce={class:"page-header__content"},De=(0,i._)("div",{class:"page-header__title"},"Nhân viên",-1),Ie=(0,i._)("div",{class:"padding__mid"},null,-1),xe={class:"add-button"},Ne={class:"back-all pointer"},Fe=(0,i._)("a",null,"Tất cả danh mục",-1),Me={class:"page-content"},Te={class:"page-content__toolbar"},Le=(0,i._)("div",{class:"padding-mid"},null,-1),Be={class:"search"},Oe={class:"toolbar__icon"},We={class:"toolbar__icon"},Ee={class:"toolbar__icon"},$e={class:"page-table"},Re={class:"paging"},ze={class:"paging__left"},Ve=(0,i.Uk)(" Tổng số "),Ye=(0,i.Uk)(" bản ghi "),Pe={class:"paging__right"},qe={class:"paging-select"};function Ae(e,t,n,o,s,a){const l=(0,i.up)("base-button"),c=(0,i.up)("base-icon"),r=(0,i.up)("base-tool"),d=(0,i.up)("base-table"),m=(0,i.up)("base-page-option"),h=(0,i.up)("vue-awesome-paginate"),u=(0,i.up)("employee-detail"),p=(0,i.up)("base-loading"),g=(0,i.up)("base-toast"),b=(0,i.up)("base-dialog");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",Se,[(0,i._)("div",ke,[(0,i._)("div",Ce,[De,Ie,(0,i._)("div",xe,[(0,i.Wm)(l,{btnTitle:"Tiện ích",btnClass:"btn__dropdown",hasIcon:!0,iconName:"icon__dropdown--black"}),(0,i.Wm)(l,{btnTitle:"Thêm",btnClass:"btn__add btn--green",id:"btnAddEmployee",onClick:a.btnAddOnClick},null,8,["onClick"]),(0,i.Wm)(l,{btnClass:"btn__dropdown btn--green",hasIcon:!0,iconName:"icon__dropdown--white"})])]),(0,i._)("div",Ne,[(0,i.Wm)(c,{size:"icon--24",name:"icon__back"}),Fe])]),(0,i._)("div",Me,[(0,i._)("div",Te,[(0,i.Wm)(l,{btnTitle:"Thực hiện hàng loạt",btnClass:"btn__dropdown",hasIcon:!0,iconName:"icon__dropdown--black",onClick:a.btnShowDelete},null,8,["onClick"]),s.showDelete?((0,i.wg)(),(0,i.j4)(l,{key:0,btnTitle:"Xoá",btnClass:"btn__delete",onClick:a.btnBulkDelete},null,8,["onClick"])):(0,i.kq)("",!0),Le,(0,i._)("div",Be,[(0,i.Wm)(c,{name:"icon__search"}),(0,i._)("input",{class:"field-input",id:"inputSearch",placeholder:"Tìm kiếm theo Mã, Tên, hoặc Số điện thoại",onKeyup:t[0]||(t[0]=e=>a.employeeFilter(e))},null,32)]),(0,i._)("div",Oe,[(0,i.Wm)(r,{content:"Tải lại trang"}),(0,i.Wm)(c,{class:"icon__refresh",size:"icon--24",onClick:t[1]||(t[1]=e=>a.refreshOnClick())})]),(0,i._)("div",We,[(0,i.Wm)(r,{content:"Xuất Excel"}),(0,i.Wm)(c,{class:"icon__excel",size:"icon--24",onClick:t[2]||(t[2]=e=>a.exportOnclick())})]),(0,i._)("div",Ee,[(0,i.Wm)(r,{content:"Cài đặt"}),(0,i.Wm)(c,{class:"icon__setting-list",size:"icon--24",onClick:t[3]||(t[3]=e=>a.settingOnCLick())})])]),(0,i._)("div",$e,[(0,i.Wm)(d,{headers:s.headers,bodyData:s.employees,onRowSelected:a.rowOnDblClick,onAddToastMsg:a.addToastMsg,onReplicationEmployee:a.functionReplication,onDeleteEmployee:a.functionDeleteEmp,onRowsSelected:a.functionListSelected,isDelete:s.deletedBulk,onDeleted:a.changeDeleteBulk},null,8,["headers","bodyData","onRowSelected","onAddToastMsg","onReplicationEmployee","onDeleteEmployee","onRowsSelected","isDelete","onDeleted"]),(0,i._)("div",Re,[(0,i._)("div",ze,[Ve,(0,i._)("b",null,(0,C.zw)(s.total),1),Ye]),(0,i._)("div",Pe,[(0,i._)("div",qe,[(0,i.Wm)(m,{isPaging:!0,onValue:a.employeeOfPage},null,8,["onValue"])]),(0,i.Wm)(h,{"total-items":s.total,"items-per-page":s.numEmployeeOfPage,"max-pages-shown":5,"current-page":s.currentPage,"on-click":a.onClickHandler,"prev-button-content":"Trước","next-button-content":"Sau"},null,8,["total-items","items-per-page","current-page","on-click"])])])])])]),(0,i.Wm)(u,{isShow:s.isShowForm,employeeSelected:s.employeeSelected,onChangeEmployee:a.changeEmployeeSelect,onChangeMode:a.changeFormMode,formMode:s.formMode,onIsShowForm:a.functionIsShowForm,onToastMsg:a.addToastMsg,isFocus:s.isFocusEmpCode,onLoading:a.showLoading},null,8,["isShow","employeeSelected","onChangeEmployee","onChangeMode","formMode","onIsShowForm","onToastMsg","isFocus","onLoading"]),(0,i.Wm)(p,{isShow:s.isShowLoading,onIsShowLoading:a.functionIsShowLoading},null,8,["isShow","onIsShowLoading"]),(0,i.Wm)(g),(0,i.Wm)(b,{isShow:s.isShowDialog,messages:s.msgDialog,onIsShowDialog:a.functionIsShowDialog,iconName:"icon__warm",btnLeft:!0,btnLeftName:"Không",btnRight:!0,btnRight2:"Có",onBtnClick:a.btnDialogClick},null,8,["isShow","messages","onIsShowDialog","onBtnClick"])],64)}var He=n(9669),Ue=n.n(He);const Ke=Object.freeze({ADD:0,EDIT:1});var Ze=Ke;const je={class:"form__content"},Ge={class:"form__btn"},Xe={class:"form__header"},Qe=(0,i._)("div",{class:"form-header__title"}," Thông tin nhân viên ",-1),Je={class:"form-header__checkbox"},et={class:"form-header__checkbox"},tt={class:"form__body"},nt={class:"form__top"},ot={class:"form-top__left"},it={class:"form-row"},st={class:"label-input"},at={class:"label-input"},lt={class:"form-row"},ct={class:"label-input"},rt={class:"form-row"},dt={class:"label-input"},mt={class:"form-top__right"},ht={class:"form-row"},ut={class:"label-input"},pt=(0,i._)("label",{for:""},"Ngày sinh",-1),gt=(0,i._)("br",null,null,-1),bt={class:"label-input gender"},_t=(0,i._)("label",{for:" "},"Giới tính ",-1),ft=(0,i._)("br",null,null,-1),vt={class:"gender-radio",id:"txtGender"},wt={class:"form-row"},yt={class:"label-input"},St={class:"label-input",id:"dbDateIssue"},kt=(0,i._)("label",{for:""},"Ngày cấp",-1),Ct=(0,i._)("br",null,null,-1),Dt={class:"form-row"},It={class:"label-input"},xt={class:"form__tabs-container"},Nt=(0,i._)("div",{class:"tabs"},[(0,i._)("div",{class:"form-tabs__tab"},[(0,i._)("p",null,"Liên hệ")])],-1),Ft={class:"tab__content"},Mt={class:"form-row"},Tt={class:"label-input"},Lt={class:"form-row contact"},Bt={class:"label-input"},Ot={class:"label-input"},Wt={class:"label-input"},Et={class:"form-row bank"},$t={class:"label-input"},Rt={class:"label-input"},zt={class:"label-input"},Vt={class:"form__footer"},Yt={class:"footer__left"},Pt={class:"footer__right"};function qt(e,t,n,o,s,a){const l=(0,i.up)("base-button"),c=(0,i.up)("base-checkbox"),r=(0,i.up)("base-input"),d=(0,i.up)("base-combobox"),m=(0,i.up)("date-picker"),h=(0,i.up)("base-radio"),u=(0,i.up)("base-dialog");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",{class:(0,C.C_)(["form",{isShowForm:n.isShow}]),id:"formInfo"},[(0,i._)("div",je,[(0,i._)("div",Ge,[(0,i.Wm)(l,{btnClass:"btn__ask",hasIcon:!0,iconName:"icon__ask",onClick:t[0]||(t[0]=e=>a.btnAskOnClick()),content:"Hỏi đáp"}),(0,i.Wm)(l,{btnClass:"btn__close",hasIcon:!0,iconName:"icon__close",onClick:t[1]||(t[1]=e=>a.btnCloseOnClick()),content:"Đóng"})]),(0,i._)("div",Xe,[Qe,(0,i._)("div",Je,[(0,i.Wm)(c,{nameSlot:"Là khách hàng",hasSpan:!0})]),(0,i._)("div",et,[(0,i.Wm)(c,{nameSlot:"Là nhà cung cấp",hasSpan:!0})])]),(0,i._)("div",tt,[(0,i._)("div",nt,[(0,i._)("div",ot,[(0,i._)("div",it,[(0,i._)("div",st,[(0,i.Wm)(r,{inputId:"txtCode",modelValue:s.employee.employeeCode,"onUpdate:modelValue":t[2]||(t[2]=e=>s.employee.employeeCode=e),hasLabel:!0,isRequired:!0,labelStr:"Mã",focus:n.isFocus},null,8,["modelValue","focus"])]),(0,i._)("div",at,[(0,i.Wm)(r,{inputId:"txtFullName",modelValue:s.employee.employeeName,"onUpdate:modelValue":t[3]||(t[3]=e=>s.employee.employeeName=e),hasLabel:!0,isRequired:!0,labelStr:"Tên"},null,8,["modelValue"])])]),(0,i._)("div",lt,[(0,i._)("div",ct,[(0,i.Wm)(d,{isShowForm:n.isShow,valueNameCbb:s.employee.departmentName,valueIdCbb:s.employee.departmentId,onValCombobox:a.changeValDepartment,cbbName:"Đơn vị",inputId:"txtDepartment",propId:"departmentId",propCode:"departmentCode",propName:"departmentName"},null,8,["isShowForm","valueNameCbb","valueIdCbb","onValCombobox"])])]),(0,i._)("div",rt,[(0,i._)("div",dt,[(0,i.Wm)(r,{inputId:"txtPosition",modelValue:s.employee.positionName,"onUpdate:modelValue":t[4]||(t[4]=e=>s.employee.positionName=e),hasLabel:!0,labelStr:"Chức danh"},null,8,["modelValue"])])])]),(0,i._)("div",mt,[(0,i._)("div",ht,[(0,i._)("div",ut,[pt,gt,(0,i.Wm)(m,{lang:s.vi,value:s.employee.dateOfBirth,"onUpdate:value":t[5]||(t[5]=e=>s.employee.dateOfBirth=e),"value-type":"DD/MM/YYYY",format:"DD/MM/YYYY",placeholder:"DD/MM/YYYY","input-class":"inputDate "},null,8,["lang","value"])]),(0,i._)("div",bt,[_t,ft,(0,i._)("div",vt,[(0,i.Wm)(h,{genderVal:s.employee.gender,onGenderSelect:a.genderSelectRadio},null,8,["genderVal","onGenderSelect"])])])]),(0,i._)("div",wt,[(0,i._)("div",yt,[(0,i.Wm)(r,{inputId:"txtCardID",modelValue:s.employee.identityNumber,"onUpdate:modelValue":t[6]||(t[6]=e=>s.employee.identityNumber=e),hasLabel:!0,labelStr:"Số CCCD",isTitle:"Căn cước công dân"},null,8,["modelValue"])]),(0,i._)("div",St,[kt,Ct,(0,i.Wm)(m,{value:s.employee.identityDate,"onUpdate:value":t[7]||(t[7]=e=>s.employee.identityDate=e),"value-type":"DD/MM/YYYY",format:"DD/MM/YYYY",placeholder:"DD/MM/YYYY","input-class":"inputDate "},null,8,["value"])])]),(0,i._)("div",Dt,[(0,i._)("div",It,[(0,i.Wm)(r,{inputId:"txtIssue",modelValue:s.employee.identityPlace,"onUpdate:modelValue":t[8]||(t[8]=e=>s.employee.identityPlace=e),hasLabel:!0,labelStr:"Nơi cấp"},null,8,["modelValue"])])])])]),(0,i._)("div",xt,[Nt,(0,i._)("div",Ft,[(0,i._)("div",Mt,[(0,i._)("div",Tt,[(0,i.Wm)(r,{inputId:"txtAddress",modelValue:s.employee.address,"onUpdate:modelValue":t[9]||(t[9]=e=>s.employee.address=e),hasLabel:!0,labelStr:"Địa chỉ"},null,8,["modelValue"])])]),(0,i._)("div",Lt,[(0,i._)("div",Bt,[(0,i.Wm)(r,{inputId:"txtMobilePhone",modelValue:s.employee.phoneNumber,"onUpdate:modelValue":t[10]||(t[10]=e=>s.employee.phoneNumber=e),hasLabel:!0,labelStr:"Điện thoại di động"},null,8,["modelValue"])]),(0,i._)("div",Ot,[(0,i.Wm)(r,{inputId:"txtLandlinePhone",modelValue:s.employee.telephoneNumber,"onUpdate:modelValue":t[11]||(t[11]=e=>s.employee.telephoneNumber=e),hasLabel:!0,labelStr:"Điện thoại cố định"},null,8,["modelValue"])]),(0,i._)("div",Wt,[(0,i.Wm)(r,{modelValue:s.employee.email,"onUpdate:modelValue":t[12]||(t[12]=e=>s.employee.email=e),inputId:"txtEmail",hasLabel:!0,labelStr:"Email"},null,8,["modelValue"])])]),(0,i._)("div",Et,[(0,i._)("div",$t,[(0,i.Wm)(r,{inputId:"txtBankNumber",modelValue:s.employee.bankAccountNumber,"onUpdate:modelValue":t[13]||(t[13]=e=>s.employee.bankAccountNumber=e),hasLabel:!0,labelStr:"Tài khoản ngân hàng"},null,8,["modelValue"])]),(0,i._)("div",Rt,[(0,i.Wm)(r,{inputId:"txtBankName",modelValue:s.employee.bankName,"onUpdate:modelValue":t[14]||(t[14]=e=>s.employee.bankName=e),hasLabel:!0,labelStr:"Tên ngân hàng"},null,8,["modelValue"])]),(0,i._)("div",zt,[(0,i.Wm)(r,{inputId:"txtBranchName",modelValue:s.employee.bankBranchName,"onUpdate:modelValue":t[15]||(t[15]=e=>s.employee.bankBranchName=e),hasLabel:!0,labelStr:"Chi nhánh"},null,8,["modelValue"])])])])])]),(0,i._)("div",Vt,[(0,i._)("div",Yt,[(0,i.Wm)(l,{btnTitle:"Huỷ",id:"btn-cancel",onClick:t[16]||(t[16]=e=>a.btnCannelOnClick())})]),(0,i._)("div",Pt,[(0,i.Wm)(l,{btnTitle:"Cất",id:"btn-save",onClick:t[17]||(t[17]=e=>a.btnSaveOnClick())}),(0,i.Wm)(l,{btnTitle:"Cất và Thêm",id:"btn-saveAndAdd",onClick:t[18]||(t[18]=e=>a.btnSaveAddClick()),btnClass:"btn--green"})])])])],2),(0,i.Wm)(u,{isShow:s.isShowDialog,messages:s.message,onIsShowDialog:a.functionIsShowDialog,iconName:s.iconMsg,btnCenter:s.btnDialog.btnCenter,btnCenterName:s.btnDialog.btnCenterName,btnLeft:s.btnDialog.btnLeft,btnLeftName:s.btnDialog.btnLeftName,btnRight:s.btnDialog.btnRight,hasThreeBtn:s.btnDialog.hasThreeBtn,btnRight1:s.btnDialog.btnRight1,btnRight2:s.btnDialog.btnRight2,onBtnClick:a.btnClick},null,8,["isShow","messages","onIsShowDialog","iconName","btnCenter","btnCenterName","btnLeft","btnLeftName","btnRight","hasThreeBtn","btnRight1","btnRight2","onBtnClick"])],64)}var At=n(386),Ht=n(7335);function Ut(e,t,n,o,s,a){const l=(0,i.up)("base-tool"),c=(0,i.up)("base-icon");return(0,i.wg)(),(0,i.iD)("button",{class:(0,C.C_)(["btn",n.btnClass])},[(0,i.Wm)(l,{content:n.content},null,8,["content"]),(0,i.WI)(e.$slots,"default",{},(()=>[(0,i.Uk)((0,C.zw)(n.btnTitle),1)]),!0),n.hasIcon?((0,i.wg)(),(0,i.j4)(c,{key:0,size:n.iconSize,name:n.iconName,class:"iconMargin"},null,8,["size","name"])):(0,i.kq)("",!0)],2)}var Kt={props:{btnClass:String,btnTitle:String,hasIcon:Boolean,iconName:String,iconSize:String,content:String},components:{BaseIcon:F,BaseTool:H}};const Zt=(0,x.Z)(Kt,[["render",Ut],["__scopeId","data-v-b0ae33b2"]]);var jt=Zt;const Gt=e=>((0,i.dD)("data-v-299f6f22"),e=e(),(0,i.Cn)(),e),Xt=Gt((()=>(0,i._)("label",{class:"container-checkbox"},[(0,i._)("input",{type:"checkbox",class:"checkbox"}),(0,i._)("span",{class:"checkmark"})],-1))),Qt={key:0,class:"checkbox__span"};function Jt(e,t,n,o,s,a){return(0,i.wg)(),(0,i.iD)(i.HY,null,[Xt,n.hasSpan?((0,i.wg)(),(0,i.iD)("span",Qt,(0,C.zw)(n.nameSlot),1)):(0,i.kq)("",!0)],64)}var en={props:{nameSlot:String,hasSpan:Boolean}};const tn=(0,x.Z)(en,[["render",Jt],["__scopeId","data-v-299f6f22"]]);var nn=tn;const on=e=>((0,i.dD)("data-v-18130492"),e=e(),(0,i.Cn)(),e),sn=["checked","onClick"],an=on((()=>(0,i._)("span",{class:"checkmark-radio"},null,-1)));function ln(e,t,n,o,s,a){return(0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.genders,(e=>((0,i.wg)(),(0,i.iD)("label",{class:"container-radio",key:e.id},[(0,i.Uk)((0,C.zw)(e.name)+" ",1),(0,i._)("input",{type:"radio",checked:n.genderVal==e.id,name:"radio",onClick:t=>a.checkRadio(e)},null,8,sn),an])))),128)}var cn={props:{genderVal:{type:Number,default:2}},emits:["genderSelect"],data(){return{genders:[{name:"Nam",id:1},{name:"Nữ",id:0},{name:"Khác",id:2}]}},methods:{checkRadio(e){this.$emit("genderSelect",e)}}};const rn=(0,x.Z)(cn,[["render",ln],["__scopeId","data-v-18130492"]]);var dn=rn;const mn={class:"dialog__content"},hn={class:"dialog-body"},un={class:"message-content"},pn={class:"dialog__footer"},gn={key:0,class:"footer__left"},bn={key:1,class:"footer__center"},_n={key:2,class:"footer__right"};function fn(e,t,n,o,s,a){const l=(0,i.up)("base-icon"),c=(0,i.up)("base-button");return(0,i.wg)(),(0,i.iD)("div",{class:(0,C.C_)(["dialog",{isShowDialog:n.isShow}]),id:"dialog-noti"},[(0,i._)("div",mn,[(0,i._)("div",hn,[(0,i.Wm)(l,{name:n.iconName,class:"dialog-icon"},null,8,["name"]),(0,i._)("div",un,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.messages,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"dialog-text",key:e.msg},(0,C.zw)(e.msg),1)))),128))])]),(0,i._)("div",pn,[n.btnLeft?((0,i.wg)(),(0,i.iD)("div",gn,[(0,i.Wm)(c,{btnTitle:n.btnLeftName,onClick:t[0]||(t[0]=e=>a.closeDialog(n.btnLeftName))},null,8,["btnTitle"])])):(0,i.kq)("",!0),n.btnCenter?((0,i.wg)(),(0,i.iD)("div",bn,[(0,i.Wm)(c,{btnTitle:n.btnCenterName,btnClass:"btn--green",onClick:t[1]||(t[1]=e=>a.closeDialog(n.btnCenterName))},null,8,["btnTitle"])])):(0,i.kq)("",!0),n.btnRight?((0,i.wg)(),(0,i.iD)("div",_n,[n.hasThreeBtn?((0,i.wg)(),(0,i.j4)(c,{key:0,btnTitle:n.btnRight1,onClick:t[2]||(t[2]=e=>a.closeDialog(n.btnRight1))},null,8,["btnTitle"])):(0,i.kq)("",!0),(0,i.Wm)(c,{btnTitle:n.btnRight2,btnClass:"btn--green",onClick:t[3]||(t[3]=e=>a.closeDialog(n.btnRight2))},null,8,["btnTitle"])])):(0,i.kq)("",!0)])])],2)}var vn={props:["messages","isShow","iconName","btnLeft","btnLeftName","btnCenter","btnCenterName","btnRight","hasThreeBtn","btnRight1","btnRight2","btnClick"],components:{BaseIcon:F,BaseButton:jt},methods:{closeDialog(e){this.$emit("isShowDialog"),this.$emit("btnClick",e)}}};const wn=(0,x.Z)(vn,[["render",fn],["__scopeId","data-v-52ef31dc"]]);var yn=wn;const Sn=e=>((0,i.dD)("data-v-29dadfe6"),e=e(),(0,i.Cn)(),e),kn={class:"combobox"},Cn=Sn((()=>(0,i._)("b",null,[(0,i.Uk)("("),(0,i._)("b",{class:"input-required"}),(0,i.Uk)(")")],-1))),Dn=["name","id"],In={key:0},xn={key:1,class:"combobox__content",ref:"combobox__data"},Nn={class:"scroll"},Fn={class:"scroll__table"},Mn={class:"combobox__table"},Tn=Sn((()=>(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",{class:"text-align-left department-code",id:"txtDepartmentCode"}," Mã đơn vị "),(0,i._)("th",{class:"text-align-left",id:"txtDepartmentName"}," Tên đơn vị ")])],-1))),Ln=["onClick","onFocus","onKeydown","onKeyup"],Bn={class:"text-align-left department-code"},On={class:"text-align-left department-name"},Wn={class:"add__department"},En=Sn((()=>(0,i._)("div",null,"Cập nhật cơ cấu tổ chức",-1)));function $n(e,t,n,s,a,l){const c=(0,i.up)("base-button"),r=(0,i.up)("base-icon");return(0,i.wg)(),(0,i.iD)("div",kn,[(0,i._)("label",null,[(0,i.Uk)((0,C.zw)(this.cbbName)+" ",1),Cn]),(0,i.wy)((0,i._)("input",{type:"text",class:"field-input required",name:n.cbbName,id:n.inputId,"onUpdate:modelValue":t[0]||(t[0]=e=>a.text=e),onInput:t[1]||(t[1]=(...e)=>l.inputOnChange&&l.inputOnChange(...e)),onKeydown:t[2]||(t[2]=(...e)=>l.selecItemUpDown&&l.selecItemUpDown(...e)),onMouseenter:t[3]||(t[3]=e=>a.hover=!0),onMouseleave:t[4]||(t[4]=e=>a.hover=!1),onBlur:t[5]||(t[5]=e=>l.blurEvent(e)),onKeyup:t[6]||(t[6]=(0,o.D2)((e=>e.target.blur()),["enter"]))},null,40,Dn),[[o.nr,a.text]]),a.hover?((0,i.wg)(),(0,i.iD)("span",In,"Đơn vị không được để trống.")):(0,i.kq)("",!0),(0,i.Wm)(c,{btnClass:"btn__combobox",hasIcon:!0,iconName:"icon__dropdown--black",onClick:t[7]||(t[7]=e=>l.showCbbData()),onKeydown:l.selecItemUpDown,tabindex:"-1"},null,8,["onKeydown"]),a.isShowCbb?((0,i.wg)(),(0,i.iD)("div",xn,[(0,i._)("div",Nn,[(0,i._)("div",Fn,[(0,i._)("table",Mn,[Tn,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.dataFilter,((e,t)=>((0,i.wg)(),(0,i.iD)("tr",{key:e[this.propId],class:(0,C.C_)({selected:a.itemSelected==e[this.propId],focus:a.indexItemFocus==t}),ref_for:!0,ref:"toFocus_"+t,onClick:t=>l.ItemOnClick(e),onFocus:e=>l.saveItemFocus(t),onKeydown:e=>l.selecItemUpDown(t),onKeyup:e=>l.selecItemUpDown(t),tabindex:"1"},[(0,i._)("td",Bn,(0,C.zw)(e[this.propCode]),1),(0,i._)("td",On,(0,C.zw)(e[this.propName]),1)],42,Ln)))),128))])])])]),(0,i._)("div",Wn,[(0,i.Wm)(r,{name:"icon__pen"}),En])],512)):(0,i.kq)("",!0)])}n(6699);var Rn={props:["isShowForm","valueIdCbb","valueNameCbb","cbbName","inputId","propId","propCode","propName"],emits:["valCombobox"],components:{BaseButton:jt,BaseIcon:F},data(){return{data:{},dataFilter:{},isShowCbb:!1,itemSelected:null,indexItemFocus:null,text:null,hover:!1}},watch:{valueNameCbb:function(e){this.text=e},isShowForm:function(e){0==e&&(this.isShowCbb=!1)}},created(){var e=this;Ue().get("/api/v1/Departments").then((function(t){e.data=t.data,e.dataFilter=t.data})).catch((function(){})),e.data=[{departmentId:"1",departmentCode:"PHC",departmentName:"Phòng Hành Chính"},{departmentId:"2",departmentCode:"PNS",departmentName:"Phòng Nhân Sự"},{departmentId:"3",departmentCode:"PKT",departmentName:"Phòng Kế toán"}],e.dataFilter=e.data},methods:{blurEvent:function(e){const t=e.target.value;t?(this.inputClass="",e.target.classList.remove("error")):(this.inputClass="error",e.target.classList.add("error"))},showCbbData(){this.valueIdCbb&&(this.itemSelected=this.valueIdCbb),this.valueIdCbb||(this.itemSelected=null,this.elToFocus=null),!this.itemSelected&&this.data.length>0&&(this.itemSelected=this.data[0][this.propId]),this.isShowCbb?this.isShowCbb=!1:(this.isShowCbb=!0,this.dataFilter=this.data)},ItemOnClick(e){this.itemSelected=e[this.propId],document.getElementById(this.inputId).classList.remove("error"),this.$emit("valCombobox",e),this.text=e[this.propName],this.isShowCbb=!1},inputOnChange(){this.isShowCbb=!0;var e=this;this.dataFilter=this.data.filter((t=>t[this.propName].includes(e.text)||t[this.propCode].includes(e.text)))},saveItemFocus(e){this.indexItemFocus=e},selecItemUpDown(){var e=this,t=event.keyCode,n=null;switch(t){case 27:this.isShowCbb=!1;break;case 40:this.isShowCbb=!0,n=this.$refs[`toFocus_${e.indexItemFocus+1}`],null!=this.indexItemFocus&&n&&0!=n.length?this.indexItemFocus+=1:this.indexItemFocus=0;break;case 38:this.isShowCbb=!0,n=this.$refs["toFocus_"+(e.indexItemFocus-1)],null!=this.indexItemFocus&&n&&0!=n.length?this.indexItemFocus-=1:this.indexItemFocus=this.dataFilter.length-1;break;case 13:n=this.$refs[`toFocus_${e.indexItemFocus}`],n&&n.length>0&&(n[0].click(),e.indexItemFocus>=0&&(e.ItemOnClick(e.data[e.indexItemFocus]),e.indexItemFocus=null),e.isShowCbb=!1);break;default:break}}}};const zn=(0,x.Z)(Rn,[["render",$n],["__scopeId","data-v-29dadfe6"]]);var Vn=zn,Yn={components:{BaseButton:jt,BaseCheckbox:nn,BaseInput:Z,BaseRadio:dn,BaseDialog:yn,DatePicker:Ht["default"],BaseCombobox:Vn},emits:["isShowForm","changeMode","changeEmployee","toastMsg","loading"],data(){return{employee:{},message:[],iconMsg:"",err:!1,count:0,isShowDialog:!1,btnDialog:{btnCenter:!1,btnLeft:!1,btnRight:!1,hasThreeBtn:!1,btnLeftName:"",btnCenterName:"",btnRight1:"",btnRight2:""},vi:At.vi}},props:["isShow","employeeSelected","formMode","isFocus"],updated(){this.employee=this.employeeSelected},methods:{btnCloseOnClick(){this.defaultDialog();let e="Dữ liệu bị thay đổi, bạn có muốn cất không?";this.message.push({msg:e}),this.iconMsg="icon__info-dialog",this.btnDialog.btnLeft=!0,this.btnDialog.btnLeftName="Huỷ",this.btnDialog.btnRight=!0,this.btnDialog.hasThreeBtn=!0,this.btnDialog.btnRight1="Không",this.btnDialog.btnRight2="Có",this.functionIsShowDialog(!0)},defaultDialog(){this.message=[],this.btnDialog.btnCenter=!1,this.btnDialog.btnLeft=!1,this.btnDialog.btnRight=!1,this.btnDialog.hasThreeBtn=!1,this.btnDialog.btnLeftName="",this.btnDialog.btnCenterName="",this.btnDialog.btnRight1="",this.btnDialog.btnRight2=""},btnCannelOnClick(){this.$emit("isShowForm"),this.$emit("isShowForm",!1)},btnSaveOnClick(){this.$emit("loading",!0),this.count=0,this.checkRequired(),this.SaveEmployee(1)},btnSaveAddClick(){this.$emit("loading",!0),this.count=0,this.checkRequired(),this.SaveEmployee(2)},SaveEmployee(e){var t=this;if(!t.err&&!t.err){let n=t.employee.dateOfBirth,o=t.employee.identityDate;t.employee.dateOfBirth=t.functionFormatDate(t.employee.dateOfBirth),t.employee.identityDate=t.functionFormatDate(t.employee.identityDate),t.employee.employeeText=t.employee.employeeCode.substring(0,2),t.employee.employeeNumber=parseInt(t.employee.employeeCode.substring(3,t.employee.employeeCode.length)),null==t.employee.gender&&(t.employee.gender=2),t.formMode==Ze.EDIT?Ue().put(`api/v1/Employees/${t.employee.employeeId}`,t.employee).then((function(){t.$emit("toastMsg",{icon:"success",msg:"Sửa thành công."}),1==e?(t.$emit("isShowForm"),t.$emit("isShowForm",!1)):(t.defaultForm(),t.$emit("changeMode")),t.$emit("loading",!1)})).catch((function(e){switch(t.employee.dateOfBirth=n,t.employee.identityDate=o,t.$emit("loading",!1),e.response.status){case 400:if(e.response.data.userMsg==`Mã nhân viên <${t.employee.employeeCode}> đã tồn tại trong hệ thống, vui lòng kiểm tra lại.`){t.DuplicateCode(e.response.data.userMsg);break}t.$emit("toastMsg",{icon:"error",msg:e.response.data.userMsg});break;case 500:t.$emit("toastMsg",{icon:"error",msg:"Server hiện đang bị lỗi."});break;default:break}})):Ue().post("/api/v1/Employees",t.employee).then((function(){t.$emit("toastMsg",{icon:"success",msg:"Thêm mới thành công."}),1==e?(t.$emit("isShowForm"),t.$emit("isShowForm",!1)):(t.defaultForm(),t.$emit("changeMode")),t.$emit("loading",!1)})).catch((function(e){switch(t.employee.dateOfBirth=n,t.employee.identityDate=o,t.$emit("loading",!1),e.response.status){case 400:if(e.response.data.userMsg==`Mã nhân viên <${t.employee.employeeCode}> đã tồn tại trong hệ thống, vui lòng kiểm tra lại.`){t.DuplicateCode(e.response.data.userMsg);break}t.$emit("toastMsg",{icon:"error",msg:e.response.data.userMsg});break;case 500:t.$emit("toastMsg",{icon:"error",msg:"Server hiện đang bị lỗi."});break;default:break}}))}},functionFormatDate(e){if(e){var t=e.slice(0,2),n=e.slice(3,5),o=e.slice(6,10),i=n+"/"+t+"/"+o;return i=new Date(i),i.setDate(i.getDate()+1),i=i.toJSON(),i}return null},defaultForm(){this.$emit("changeEmployee")},checkRequired(){this.defaultDialog();var e=document.querySelectorAll(".required");if(e.forEach((e=>{if(!e.value){let t=e.getAttribute("name")+" không được bỏ trống.";this.message.push({msg:t}),this.count++,e.classList.add("error")}e.value&&e.classList.remove("error")})),null!=this.employee.employeeCode){const e=new RegExp(/^([a-zA-Z]){2}-([0-9])+$/);if(!e.test(this.employee.employeeCode)){let e="Mã nhân viên phải có định dạng [Chữ][Chữ]-[Các số] .";this.message.push({msg:e}),this.count++,document.getElementById("txtCode").classList.add("error")}}this.count>0?(this.iconMsg="icon__error",this.btnDialog.btnCenter=!0,this.btnDialog.btnCenterName="Đóng",this.$emit("loading",!1),this.functionIsShowDialog(!0),this.err=!0):(this.err=!1,this.defaultDialog())},DuplicateCode(e){this.defaultDialog();let t=e;this.message.push({msg:t}),this.iconMsg="icon__warm",this.btnDialog.btnRight=!0,this.btnDialog.btnRight2="Đồng ý",this.functionIsShowDialog(!0),this.err=!0},functionIsShowDialog(e){this.isShowDialog=e},btnClick(e){"Không"==e&&(this.$emit("isShowForm"),this.$emit("isShowForm",!1)),"Có"==e&&(this.checkRequired(),this.SaveEmployee(1))},changeValDepartment(e){e.departmentName&&(this.employee.departmentName=e.departmentName),this.employee.departmentCode=e.departmentCode,this.employee.departmentId=e.departmentId;var t=document.getElementById("txtDepartment");t.value&&t.classList.remove("error")},genderSelectRadio(e){this.employee.gender=e.id,this.employee.genderName=e.name},btnAskOnClick(){this.$emit("toastMsg",{icon:"warm",msg:"Chưa thực hiện chức năng này."})}}};const Pn=(0,x.Z)(Yn,[["render",qt]]);var qn=Pn;const An={class:"paging__cbb"},Hn=["value"],Un={class:"data"},Kn=["onClick","onFocus","onKeydown","onKeyup"];function Zn(e,t,n,s,a,l){const c=(0,i.up)("base-icon"),r=(0,i.up)("base-button");return(0,i.wg)(),(0,i.iD)("div",An,[(0,i._)("input",{type:"text ",class:"input",readonly:"true",value:this.pagingSelect+" bản ghi trên 1 trang"},null,8,Hn),(0,i.Wm)(r,{btnClass:"button",onClick:t[0]||(t[0]=e=>l.showOption()),onKeydown:l.selectItemUpDown},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{size:"icon--24",name:"icon__arrow-dropdown"})])),_:1},8,["onKeydown"]),(0,i.wy)((0,i._)("div",Un,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.options,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{class:(0,C.C_)(["data__item",{selected:this.pagingSelect==e.val,focus:this.indexItemFocus==t}]),onClick:t=>l.itemOnClick(e),key:e.option,ref_for:!0,ref:"toFocus_"+t,onFocus:e=>l.saveItemFocus(t),onKeydown:e=>l.selectItemUpDown(t),onKeyup:e=>l.selectItemUpDown(t),tabindex:"1"},(0,C.zw)(e.val)+" bản ghi trên 1 trang ",43,Kn)))),128))],512),[[o.F8,this.isShow]])])}var jn={components:{BaseButton:jt,BaseIcon:F},created(){this.pagingSelect=20,this.$emit("value",20)},data(){return{isShow:!1,paging:[{val:10},{val:20},{val:30},{val:50},{val:100}],options:[],pagingSelect:null,indexItemFocus:null}},props:["value"],methods:{showOption(){this.options=this.paging,this.isShow?this.isShow=!1:this.isShow=!0},itemOnClick(e){this.isSelected=e.val,this.indexItemFocus=null,this.isShow=!1,this.pagingSelect=e.val,this.$emit("value",e.val)},saveItemFocus(e){this.indexItemFocus=e},selectItemUpDown(){var e=this,t=event.keyCode,n=null;switch(t){case 27:this.isShow=!1;break;case 40:this.isShow=!0,n=this.$refs[`toFocus_${e.indexItemFocus+1}`],null!=this.indexItemFocus&&n&&0!=n.length?this.indexItemFocus+=1:this.indexItemFocus=0;break;case 38:this.isShow=!0,n=this.$refs["toFocus_"+(e.indexItemFocus-1)],null!=this.indexItemFocus&&n&&0!=n.length?this.indexItemFocus-=1:this.indexItemFocus=this.options.length-1;break;case 13:n=this.$refs[`toFocus_${e.indexItemFocus}`],n&&n.length>0&&(n[0].click(),e.indexItemFocus>=0&&(e.indexItemFocus=null),this.showOption());break;default:break}}}};const Gn=(0,x.Z)(jn,[["render",Zn],["__scopeId","data-v-5845cf1b"]]);var Xn=Gn;const Qn=e=>((0,i.dD)("data-v-070bfbf0"),e=e(),(0,i.Cn)(),e),Jn={key:0,class:"loading"},eo=Qn((()=>(0,i._)("div",{class:"loading__content"},[(0,i._)("div",{class:"loading__icon"}),(0,i._)("div",{class:"loading__text"},"Đang xử lý")],-1))),to=[eo];function no(e,t,n,o,s,a){return n.isShow?((0,i.wg)(),(0,i.iD)("div",Jn,to)):(0,i.kq)("",!0)}var oo={props:["isShow"]};const io=(0,x.Z)(oo,[["render",no],["__scopeId","data-v-070bfbf0"]]);var so=io;const ao=e=>((0,i.dD)("data-v-251c0205"),e=e(),(0,i.Cn)(),e),lo={class:"scroll-table"},co={class:"table",id:"employeeList"},ro={class:"text-align-center row-checkbox checkbox-padding"},mo={class:"container-checkbox"},ho=ao((()=>(0,i._)("span",{class:"checkmark"},null,-1))),uo=["onDblclick"],po={class:"text-align-center row-checkbox checkbox-padding"},go={class:"container-checkbox"},bo=["onChange"],_o=ao((()=>(0,i._)("span",{class:"checkmark"},null,-1))),fo={class:"text-align-left row-code"},vo={class:"text-align-left"},wo={class:"text-align-left"},yo={class:"text-align-center"},So={class:"text-align-left"},ko={class:"text-align-left"},Co={class:"text-align-left"},Do={class:"text-align-left"},Io={class:"text-align-left"},xo={class:"text-align-left"},No={class:"text-align-center row-function"},Fo={class:"fix"},Mo=ao((()=>(0,i._)("div",{class:"option"},"Sửa",-1)));function To(e,t,n,o,s,a){const l=(0,i.up)("base-icon"),c=(0,i.up)("base-button"),r=(0,i.up)("base-fix-option");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",lo,[(0,i._)("table",co,[(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",ro,[(0,i._)("label",mo,[(0,i._)("input",{type:"checkbox",class:"checkbox",id:"chkAll",onClick:t[0]||(t[0]=e=>a.checkAll(e))}),ho])]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.headers,(e=>((0,i.wg)(),(0,i.iD)("th",{key:e.text,class:(0,C.C_)(e.class)},(0,C.zw)(e.text),3)))),128))])]),(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.bodyData,(e=>((0,i.wg)(),(0,i.iD)("tr",{key:e.employeeId,class:"row",onDblclick:t=>a.rowOnDblClick(e)},[(0,i._)("td",po,[(0,i._)("label",go,[(0,i._)("input",{type:"checkbox",class:"checkbox chk",onChange:t=>a.changeCheck(e.employeeId,t)},null,40,bo),_o])]),(0,i._)("td",fo,(0,C.zw)(e.employeeCode),1),(0,i._)("td",vo,(0,C.zw)(e.employeeName),1),(0,i._)("td",wo,(0,C.zw)(e.genderName),1),(0,i._)("td",yo,(0,C.zw)(a.formatDate(e.dateOfBirth)),1),(0,i._)("td",So,(0,C.zw)(e.identityNumber),1),(0,i._)("td",ko,(0,C.zw)(e.positionName),1),(0,i._)("td",Co,(0,C.zw)(e.departmentName),1),(0,i._)("td",Do,(0,C.zw)(e.bankAccountNumber),1),(0,i._)("td",Io,(0,C.zw)(e.bankName),1),(0,i._)("td",xo,(0,C.zw)(e.bankBranchName),1),(0,i._)("td",No,[(0,i._)("div",Fo,[Mo,(0,i.Wm)(c,{btnClass:"btn__fix",onClick:t=>a.showFixOption(t,e)},{default:(0,i.w5)((()=>[(0,i.Wm)(l,{size:"icon--24",name:"icon__down"})])),_:2},1032,["onClick"])])])],40,uo)))),128))])])]),(0,i.Wm)(r,{isShowFix:s.isShowFix,employeeSelect:s.rowFix,onIsShowFix:t[1]||(t[1]=e=>a.FixSelected()),positionX:s.leftFix,positionY:s.topFix,onToastMsg:a.toastMassage,onReplication:a.replicationEmp,onDelete:a.deleteEmp},null,8,["isShowFix","employeeSelect","positionX","positionY","onToastMsg","onReplication","onDelete"])],64)}const Lo=["onClick"];function Bo(e,t,n,s,a,l){const c=(0,i.up)("base-dialog");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.wy)((0,i._)("div",{class:"data-fix",style:(0,C.j5)({left:n.positionX+"px",top:n.positionY+"px"})},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.options,(e=>((0,i.wg)(),(0,i.iD)("div",{class:(0,C.C_)(["data__item",{selected:this.isSelected==e.option}]),onClick:t=>l.itemOnClick(e),key:e.option},(0,C.zw)(e.option),11,Lo)))),128))],4),[[o.F8,this.isShowFix]]),(0,i.Wm)(c,{isShow:a.isShowDialog,messages:a.msgDialog,onIsShowDialog:l.functionIsShowDialog,iconName:"icon__warm",btnLeft:!0,btnLeftName:"Không",btnRight:!0,btnRight2:"Có",onBtnClick:l.btnClick},null,8,["isShow","messages","onIsShowDialog","onBtnClick"])],64)}var Oo={components:{BaseDialog:yn},emits:["isShowFix","toastMsg","replication","delete"],created(){this.isSelected="Nhân bản"},data(){return{isShow:!1,options:[{option:"Nhân bản"},{option:"Xoá"},{option:"Ngưng sử dụng"}],isSelected:null,isShowDialog:!1,msgDialog:[],employee:{}}},props:["employeeSelect","isShowFix","positionX","positionY"],methods:{itemOnClick(e){if(this.isSelected=e.option,this.isShow=!1,this.$emit("isShowFix"),this.employee=this.employeeSelect,this.isPaging&&(this.pagingSelect=e.option,this.$emit("value",e.val)),"Xoá"==this.isSelected){this.msgDialog=[];let e=`Bạn có thực sự muốn xoá Nhân viên <${this.employeeSelect.employeeCode}> không?`;this.msgDialog.push({msg:e}),this.functionIsShowDialog(!0)}else"Nhân bản"==this.isSelected&&this.$emit("replication",this.employee);this.isSelected="Nhân bản"},functionIsShowDialog(e){this.isShowDialog=e},btnClick(e){"Có"==e&&(this.$emit("delete",this.employee),this.employee={})}}};const Wo=(0,x.Z)(Oo,[["render",Bo],["__scopeId","data-v-fe1daa9a"]]);var Eo=Wo,$o={props:{bodyData:{type:Array},headers:{type:Array},isDelete:{type:Boolean}},emits:["rowSelected","addToastMsg","replicationEmployee","deleteEmployee","rowsSelected","deleted"],components:{BaseFixOption:Eo,BaseButton:jt,BaseIcon:F},data(){return{isShowFix:!1,rowFix:{},leftFix:null,topFix:null,checkList:[]}},methods:{formatDate(e){try{if(e){e=new Date(e);let t=("0"+e.getDate()).slice(-2),n=("0"+(e.getMonth()+1)).slice(-2),o=e.getFullYear();return`${t}/${n}/${o}`}}catch(t){return console.log(t),""}},rowOnDblClick(e){this.$emit("rowSelected",e)},showFixOption(e,t){this.isShowFix?this.rowFix==t?this.isShowFix=!1:this.rowFix=t:(this.isShowFix=!0,this.rowFix=t),this.leftFix=e.clientX-120,this.topFix=e.clientY+15},FixSelected(){this.isShowFix=!1,this.rowFix={}},toastMassage(e){this.$emit("addToastMsg",e)},deleteEmp(e){this.$emit("deleteEmployee",e)},replicationEmp(e){this.$emit("replicationEmployee",e)},checkAll(e){this.checkList=[];let t=document.getElementsByClassName("chk"),n=document.querySelectorAll(".row");if(e.target.checked){for(let e=0;e<this.bodyData.length;e++)this.checkList.push(this.bodyData[e].employeeId);for(let e=0;e<t.length;e++)t[e].checked="checked",n[e].classList.add("row-selected")}else for(let o=0;o<t.length;o++)t[o].checked="",n[o].classList.remove("row-selected");this.$emit("rowsSelected",this.checkList)},changeCheck(e,t){1==this.isDelete&&(this.checkList=[],this.$emit("rowsSelected",this.checkList),this.$emit("deleted",!1)),t.target.checked?(this.checkList.push(e),t.target.parentNode.parentNode.parentNode.classList.add("row-selected")):(this.checkList.splice(this.checkList.indexOf(e),1),t.target.parentNode.parentNode.parentNode.classList.remove("row-selected"));let n=document.getElementsByClassName("chk");this.checkList.length==n.length?document.getElementById("chkAll").checked="checked":document.getElementById("chkAll").checked="",this.$emit("rowsSelected",this.checkList)}}};const Ro=(0,x.Z)($o,[["render",To],["__scopeId","data-v-251c0205"]]);var zo=Ro;const Vo={class:"toast-box",id:"toast"};function Yo(e,t,n,o,s,a){return(0,i.wg)(),(0,i.iD)("div",Vo)}var Po={};const qo=(0,x.Z)(Po,[["render",Yo],["__scopeId","data-v-3018eace"]]);var Ao=qo,Ho={components:{EmployeeDetail:qn,BaseButton:jt,BaseIcon:F,BasePageOption:Xn,BaseLoading:so,BaseTable:zo,BaseToast:Ao,BaseDialog:yn,BaseTool:H},created(){this.pagination()},data(){return{fullName:"lê Minh Tuyến",employees:[],total:0,currentPage:1,numEmployeeOfPage:10,isShowForm:!1,employeeSelected:null,employeeSelectedId:null,formMode:0,isFix:!1,isShowLoading:!1,isInputErr:!0,headers:[{text:"MÃ NHÂN VIÊN",class:"text-align-left row-code"},{text:"TÊN NHÂN VIÊN",class:"text-align-left row-name"},{text:"GIỚI TÍNH",class:"text-align-left row-gender"},{text:"NGÀY SINH",class:"text-align-center row-date"},{text:"Số CMND",class:"text-align-left row-identity"},{text:"CHỨC DANH",class:"text-align-left row-position"},{text:"ĐƠN VỊ",class:"text-align-left row-department"},{text:"SỐ TÀI KHOẢN",class:"text-align-left row-account-number"},{text:"TÊN NGÂN HÀNG",class:"text-align-left row-bank"},{text:"CHI NHÁNH TK NGÂN HÀNG",class:"text-align-left row-branch"},{text:"CHỨC NĂNG",class:"text-align-center row-function"}],timeOut:null,showDelete:!1,employeesSelectedId:[],deletedBulk:!1,isFocusEmpCode:!1,isShowDialog:!1,msgDialog:[]}},methods:{btnAddOnClick(){this.inputDefault(),this.functionIsShowForm(!0),this.changeEmployeeSelect(),this.formMode=Ze.ADD},rowOnDblClick(e){this.inputDefault(),clearTimeout(this.timeOut),this.timeOut=setTimeout((()=>{this.employeeSelected=e,this.getEmployee(e.employeeId),this.functionIsShowForm(!0),this.formMode=Ze.EDIT}),500)},formatDate(e){try{if(e){e=new Date(e);let t=("0"+e.getDate()).slice(-2),n=("0"+(e.getMonth()+1)).slice(-2),o=e.getFullYear();return`${t}/${n}/${o}`}}catch(t){return console.log(t),""}},getEmployee(e){var t=this;t.functionIsShowLoading(!0),Ue().get(`/api/v1/Employees/${e}`).then((function(e){t.employeeSelected=e.data,t.employeeSelected.dateOfBirth=t.formatDate(e.data.dateOfBirth),t.employeeSelected.identityDate=t.formatDate(e.data.identityDate),t.functionIsShowLoading(!1)})).catch((function(){t.addToastMsg({icon:"error",msg:"Đã xảy ra lỗi, vui lòng liên hệ MISA để được hỗ trợ."}),t.functionIsShowLoading(!1),t.functionIsShowLoading(!1)}))},getEmployeeCode(){var e=this;e.functionIsShowLoading(!0),Ue().get("/api/v1/Employees/NewEmployeeCode").then((function(t){e.employeeSelected.employeeCode=t.data,e.isFocusEmpCode=!0,e.functionIsShowLoading(!1)})).catch((function(){e.addToastMsg({icon:"error",msg:"Đã xảy ra lỗi, vui lòng liên hệ MISA để được hỗ trợ."}),e.functionIsShowLoading(!1),e.functionIsShowLoading(!1)}))},functionIsShowForm(e){this.isShowForm=e,0==e?(this.isFocusEmpCode=!1,this.pagination()):this.isFocusEmpCode=!0},functionIsShowLoading(e){this.isShowLoading=e},showLoading(e){this.functionIsShowLoading(e)},functionIsShowDialog(e){this.isShowDialog=e},refreshOnClick(){this.pagination()},inputDefault(){var e=document.querySelectorAll(".required");e.forEach((e=>{e.classList.remove("error")}))},employeeOfPage(e){this.numEmployeeOfPage=e,this.currentPage=1,this.pagination()},changeEmployeeSelect(){this.employeeSelected={},this.getEmployeeCode()},changeFormMode(){this.formMode=0},employeeFilter(e){clearTimeout(this.timeOut),this.timeOut=setTimeout((()=>{var t=this;e.target.value?(t.currentPage=1,t.functionIsShowLoading(!0),Ue().get(`api/v1/Employees/Filter?pageSize=${t.numEmployeeOfPage}&pageNumber=${t.currentPage}&employeeFilter=${e.target.value}`).then((function(e){t.employees=e.data.data,t.total=e.data.totalRecord,t.functionIsShowLoading(!1)})).catch((function(){t.addToastMsg({icon:"error",msg:"Đã xảy ra lỗi, vui lòng liên hệ MISA để được hỗ trợ."}),t.functionIsShowLoading(!1)}))):t.pagination()}),1e3)},pagination(){var e=this;e.functionIsShowLoading(!0),Ue().get(`api/v1/Employees/Filter?pageSize=${e.numEmployeeOfPage}&pageNumber=${e.currentPage}`).then((function(t){e.employees=t.data.data,e.total=t.data.totalRecord,e.functionIsShowLoading(!1)})).catch((function(t){switch(t.response.status){case 400:e.addToastMsg({icon:"error",msg:t.response.data.userMsg});break;case 500:e.addToastMsg({icon:"error",msg:"Đã xảy ra lỗi, vui lòng liên hệ MISA để được hỗ trợ."});break;default:break}e.functionIsShowLoading(!1)}))},onClickHandler(e){this.currentPage=e,this.deletedBulk=!0,this.employeesSelectedId=[],this.pagination()},addToastMsg(e){const t=document.getElementById("toast");if(t){const n=document.createElement("div");setTimeout((function(){t.removeChild(n)}),2e3);const o={success:"icon icon__toast-success",error:"icon icon__toast-error",warm:"icon icon__toast-warm",info:"icon icon__toast-info"};n.classList.add("toast-item"),n.style.animation="slideInLeft ease .3s, fadeOut linear 1s 2s forwards",n.innerHTML=`\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              <div class="toast-item__icon">\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  <div class="icon ${o[e.icon]}"></div>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              </div>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              <div class="toast-item__text">${e.msg}</div>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          `,t.appendChild(n)}},functionReplication(e){this.inputDefault(),this.getEmployee(e.employeeId),clearTimeout(this.timeOut),this.timeOut=setTimeout((()=>{this.getEmployeeCode(),this.functionIsShowForm(!0),this.formMode=Ze.ADD}),1e3)},functionDeleteEmp(e){clearTimeout(this.timeOut),this.timeOut=setTimeout((()=>{var t=this;Ue()["delete"](`/api/v1/Employees/${e.employeeId}`).then((function(){let n="Đã xoá nhân viên "+e.employeeCode;t.addToastMsg({icon:"success",msg:n}),t.pagination()})).catch((function(e){let n=e.response.data.userMsg;t.addToastMsg({icon:"success",msg:n}),t.pagination()}))}),500)},functionListSelected(e){this.employeesSelectedId=e},btnShowDelete(){this.showDelete?this.showDelete=!1:this.showDelete=!0},btnBulkDelete(){this.showDelete=!1,this.msgDialog=[];let e="";1==this.employeesSelectedId.length?(e="Bạn có thực sự muốn xoá nhân viên này không?",this.msgDialog.push({msg:e}),this.functionIsShowDialog(!0)):this.employeesSelectedId.length>1?(e=`Bạn có thực sự muốn xoá ${this.employeesSelectedId.length} nhân viên này không?`,this.msgDialog.push({msg:e}),this.functionIsShowDialog(!0)):this.addToastMsg({icon:"info",msg:"Bạn chưa chọn nhân viên nào."})},changeDeleteBulk(e){this.deletedBulk=e},btnDialogClick(e){var t=0;if("Có"==e){var n=this;n.employeesSelectedId.length>0&&n.functionIsShowLoading(!0);for(let e=0;e<n.employeesSelectedId.length;e++){let o=n.employeesSelectedId[e];Ue()["delete"](`/api/v1/Employees/${o}`).then((function(){if(t++,t==n.employeesSelectedId.length){n.pagination();let e="Đã xoá "+t+" nhân viên.";n.addToastMsg({icon:"success",msg:e}),n.deletedBulk=!0,n.functionIsShowLoading(!1)}})).catch((function(e){let t=e.response.data.userMsg;n.addToastMsg({icon:"success",msg:t}),n.pagination(),n.functionIsShowLoading(!1)}))}}},exportOnclick(){this.functionIsShowLoading(!0);var e=this;Ue().get("/api/v1/Employees/Export",{responseType:"blob"}).then((function(t){e.functionIsShowLoading(!1);const n=URL.createObjectURL(new Blob([t.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),o=document.createElement("a");o.href=n,o.setAttribute("download","DanhSachNhanVien.xlsx"),document.body.appendChild(o),o.click()})).catch((function(){e.functionIsShowLoading(!1),e.addToastMsg({icon:"error",msg:"Đã xảy ra lỗi, vui lòng liên hệ MISA để được hỗ trợ."})}))},settingOnCLick(){this.addToastMsg({icon:"warm",msg:"Chưa thực hiện tính năng này"})}}};const Uo=(0,x.Z)(Ho,[["render",Ae]]);var Ko=Uo;const Zo=(0,i._)("div",null,"Wellcome to MISA!",-1),jo=[Zo];function Go(e,t,n,o,s,a){return(0,i.wg)(),(0,i.iD)("div",null,jo)}var Xo={};const Qo=(0,x.Z)(Xo,[["render",Go]]);var Jo=Qo;const ei=e=>((0,i.dD)("data-v-a9fb6ac0"),e=e(),(0,i.Cn)(),e),ti={class:"top__menu"},ni=ei((()=>(0,i._)("div",null,"Quy trình",-1))),oi=ei((()=>(0,i._)("div",null,"Nhập, xuất kho",-1)));function ii(e,t,n,o,s,a){const l=(0,i.up)("router-link"),c=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",ti,[(0,i._)("ul",null,[(0,i._)("li",null,[(0,i.Wm)(l,{to:"/INProcess"},{default:(0,i.w5)((()=>[ni])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(l,{to:"/InWardOutWardList"},{default:(0,i.w5)((()=>[oi])),_:1})])])]),(0,i.Wm)(c)],64)}var si={};const ai=(0,x.Z)(si,[["render",ii],["__scopeId","data-v-a9fb6ac0"]]);var li=ai;const ci=[{path:"/employees",component:Ko},{path:"/other",component:Jo},{path:"/INProcess",component:li},{path:"/InWardOutWardList",component:li}],ri=(0,ye.p7)({history:(0,ye.PO)(),routes:ci});var di=ri,mi=n(2346),hi=n(341);const ui=(0,o.ri)(we).use(di);ui.use(mi.Z,Ue()),ui.use(hi.Z),ui.mount("#app")}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var s=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.m=e,function(){n.amdO={}}(),function(){var e=[];n.O=function(t,o,i,s){if(!o){var a=1/0;for(d=0;d<e.length;d++){o=e[d][0],i=e[d][1],s=e[d][2];for(var l=!0,c=0;c<o.length;c++)(!1&s||a>=s)&&Object.keys(n.O).every((function(e){return n.O[e](o[c])}))?o.splice(c--,1):(l=!1,s<a&&(a=s));if(l){e.splice(d--,1);var r=i();void 0!==r&&(t=r)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[o,i,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var i,s,a=o[0],l=o[1],c=o[2],r=0;if(a.some((function(t){return 0!==e[t]}))){for(i in l)n.o(l,i)&&(n.m[i]=l[i]);if(c)var d=c(n)}for(t&&t(o);r<a.length;r++)s=a[r],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(d)},o=self["webpackChunkamis"]=self["webpackChunkamis"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(3216)}));o=n.O(o)})();
//# sourceMappingURL=app.7a1d2f6e.js.map